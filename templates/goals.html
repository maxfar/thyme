{% extends "base.html" %}

{% block head %}
{{ super() }}
<link rel="stylesheet" href={{ url_for('static', filename='css/overview.css') }} />
{% endblock %}

{% block content %}
<div class="container overview-header">
    <div class="row">
        <div class="col-md-10 col-md-offset-1">
            <h1>Goals</h1>
            <h4>Saving for something? Add it here and we'll track how you're going</h4>
        </div>
    </div>
    <div class="row">
        <div class="col-md-2">
            <div class="list-group">
                <a href="/user/overview" class="list-group-item">Overview</a>
                <a class="list-group-item disabled">Goals</a>
                <a href="#" class="list-group-item">Net Worth</a>
                <a href="#" class="list-group-item">Spending</a>
                <a href="#" class="list-group-item">Transactions</a>
            </div>
        </div>
        <div class="col-md-8"">
            <div class="row">
                <div class="col-md-12">
                    <div id="graph" style="width:100%; height:400px;"></div>
                </div>
                <div class="col-md-12">
                    <table class="table table-striped">
                        <tr>
                            <th>Title</th>
                            <th>Price</th> 
                            <th>By</th>
                        </tr>
                        {% for goal in goals %}
                        <tr>
                            <td>{{ goal.title }}</td>
                            <td>{{ goal.price }}</td>
                            <td>{{ goal.due_date }}</td>
                        </tr>
                        {% endfor %}
                    </table>
                </div>
            </div>
        </div>
        <div class="col-md-2">
            <div class="row">
                <div class="col-md-12">
                    <button type="button" class="btn btn-default">Default</button>
                </div>
                <div class="col-md-12">
                    <button type="button" class="btn btn-primary">Default</button>
                </div>
                <div class="col-md-12">
                    <button type="button" class="btn btn-success">Default</button>
                </div>
                <div class="col-md-12">
                    <button type="button" class="btn btn-info">Default</button>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block postscript %}
<script src="http://code.highcharts.com/highcharts.js"></script>
<script>
 $(function () {
     var low_series = []
     {% for goal in goals %}
     low_series.push({name: "{{ goal.title }}", data: {{ goal.data }} });
     {% endfor %}
     $('#graph').highcharts({
         chart: {
             type: 'area'
         },
         title: {
             text: ''
         },
         xAxis: {
             categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
             tickmarkPlacement: 'on',
             title: {
                 enabled: false
             }
         },
         yAxis: {
             title: {
                 text: 'Billions'
             },
             labels: {
                 formatter: function () {
                     return this.value;
                 }
             }
         },
         tooltip: {
             shared: true,
             valueSuffix: ' millions'
         },
         plotOptions: {
             area: {
                 stacking: 'normal',
                 lineColor: '#666666',
                 lineWidth: 1,
                 marker: {
                     lineWidth: 1,
                     lineColor: '#666666'
                 }
             }
         },
         series: low_series
     });
 });
</script>
{% endblock %}
